<section id="section-examples" class="attireBlock mod1">
    <div class="inner">

        <h2 class="attireTitleType2">Examples</h2>

        <p class="attireTextType2">
           Subscribe object to events with on(), publish events with trigger()
        </p>

        <script>
            // start with simple object
            var musician = {name: 'George'};

            // use "mitty" function to augment object with event api
            mitty(musician);

            // subscribe to play event
            musician.on('play', function(message) {
                console.log(this.name + ' is currently playing. ' + message);
            });

            // trigger / publish "play" event with custom message as data
            // outputs 'George is currently playing. With style!'
            musician.trigger('play', 'With style!');
        </script>

        <pre class="attireCodeHighlight"><code class="language-javascript">
            // start with simple object
            var musician = {name: 'George'};

            // use "mitty" function to augment object with event api
            mitty(musician);

            // subscribe to play event
            musician.on('play', function(message) {
                console.log(this.name + ' is currently playing. ' + message);
            });

            // trigger / publish "play" event with custom message as data
            // outputs 'George is currently playing. With style!'
            musician.trigger('play', 'With style!');
        </code></pre>

        <hr class="attireSeparator mod1">

        <p class="attireTextType2">
           Remove events with off()
        </p>

        <script>
            // Remove subscription
            musician.off('play');

            // Trigger does nothing since we removed  subscription
            musician.trigger('play', 'With style again!');
        </script>

        <pre class="attireCodeHighlight"><code class="language-javascript">
            // Remove subscription
            musician.off('play');

            // Trigger does nothing since we removed  subscription
            musician.trigger('play', 'With style again!');
        </code></pre>

        <hr class="attireSeparator mod1">

        <p class="attireTextType2">
            Use listenTo() when you want to subscribe to some other object events.
            Invoke stopListening() when you want to remove those subscriptions.
        </p>

        <script>
            var instrument = mitty({type: 'Guitar'});

            instrument.listenTo(musician, 'play', function() {
                console.log(musician.name + ' is playing ' + this.type + ' with grace!');
            });

            // Outputs 'George is playing Guitar with grace!'
            musician.trigger('play');

            // Remove subscription
            instrument.stopListening(musician);

            // Will not output
            musician.trigger('play');
        </script>

        <pre class="attireCodeHighlight"><code class="language-javascript">
            var instrument = mitty({type: 'Guitar'});

            instrument.listenTo(musician, 'play', function() {
                console.log(musician.name + ' is playing ' + this.type + ' with grace!');
            });

            // Outputs 'George is playing Guitar with grace!'
            musician.trigger('play');

            // Remove subscription
            instrument.stopListening(musician);

            // Will not output
            musician.trigger('play');
        </code></pre>

        <hr class="attireSeparator mod1">

        <p class="attireTextType2">
            Types / prototype based constructor functions can also be augmented with events like so:
        </p>

        <script>
            function Person(name) {
                this.name = name;
            }

            mitty(Person.prototype);

            var john = new Person('John');

            john.on('sayHello', function() {
                console.log(this.name + ' says hello');
            });

            john.trigger('sayHello'); // outputs 'John says hello'
        </script>

        <pre class="attireCodeHighlight"><code class="language-javascript">
            function Person(name) {
                this.name = name;
            }

            mitty(Person.prototype);

            var john = new Person('John');

            john.on('sayHello', function() {
                console.log(this.name + ' says hello');
            });

            john.trigger('sayHello'); // outputs 'John says hello'
        </code></pre>

    </div>
</section>
